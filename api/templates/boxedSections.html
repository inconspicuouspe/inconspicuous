{% macro sectionHead() -%}
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<style>
.boxed-section {
    border-style: solid;
    border-color: darkgray;
    border-radius: 8px;
    border-width: 2px;
    max-width: fit-content;
}
.boxed-section .boxed-content {
    margin: 4px;
}
.boxed-section-button {
    border: none;
    background: inherit;
    width: min-content;
    height: min-content;
    aspect-ratio: 1/1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    user-select: none;
    cursor: pointer;
}
.material-symbols-outlined {
    font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 24
}
</style>
<script>
boxedSectionOpenButtonsClicked = [];
function handleBoxedSectionOpenerButton(event, onFirstOpen) {
    if (!boxedSectionOpenButtonsClicked.includes(event.target) && onFirstOpen) {
        onFirstOpen();
    }
    event.target.parentNode.style.display = "none";
    event.target.parentNode.parentNode.firstElementChild.style.display = "";
    console.log(event);
}
function handleBoxedSectionCloserButton(event) {
    console.log(event);
    event.target.parentNode.parentNode.style.display = "none";
    event.target.parentNode.parentNode.parentNode.lastElementChild.style.display = "";
}
</script>
{%- endmacro %}

{% macro openSection() -%}
<div class="boxed-section">
<div class="boxed-section-closeable" style="display: none;">
<div onclick="handleBoxedSectionCloserButton(event);" class="boxed-section-button">
    <span class="material-symbols-outlined">
        keyboard_arrow_up
    </span>
</div>
<div class="boxed-content"> 
{%- endmacro %}

{% macro closeSection(onFirstOpen="") -%}
</div>
</div>
<div onclick="handleBoxedSectionOpenerButton(event{% if onFirstOpen %}, {{ onFirstOpen }}{% endif %});" class="boxed-section-button">
    <span class="material-symbols-outlined">
        keyboard_arrow_down
    </span>
</div>
</div>
{%- endmacro %}